<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Stack Migration</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>
<style>

</style>

<body>
    <div class="d-flex flex-column h-100 w-100 p-3 align-items-stretch">
        <h1>Schema Converter</h1>
        <form class="w-100 h-100 mt-3" action="<%=locals.basePath%>schema" method="POST" enctype="application/json">
            <div class="w-100 d-flex flex-column align-items-stretch">
                <div class="d-flex w-100">
                    <label class="w-100 mr-2" for="oldSchema">Old Schema</label>
                    <label class="w-100 ml-2" for="newSchema">New Schema
                        <button type="button" class="button btn btn-sm btn-dark ml-3" onclick="copyToClipboard()">Copy</button>
                    </label>
                </div>
                <div class="d-flex w-100 h-100 mt-3">
                    <textarea class="form-control mr-2" name="oldSchema" id="oldSchema" cols="30"
                        rows="10" required><%=locals.oldSchema ? JSON.stringify(locals.oldSchema, null, 2) : ''%></textarea>
                    <textarea class="form-control ml-2" name="newSchema" id="newSchema" cols="30"
                        rows="10" readonly><%=locals.newSchema ? JSON.stringify(locals.newSchema, null, 2) : ''%></textarea>
                </div>
                <div class="d-flex w-100 mt-3">
                    <div colspan="2">
                        <button type="submit" class="btn btn-lg btn-success">Convert</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <script>
        function copyToClipboard(){
            const ele = (document.getElementById("newSchema"));
            ele.select();
            document.execCommand('copy');
        }
    </script>
</body>

</html>